"use strict";$.support.cors=!0,$(function(){function t(t,e,a){$.ajax({url:t,cache:!0,type:e,crossDomain:!0}).done(a)}(function(){var e=$(".col-md-12").width();(function(){function t(t){s.is(":animated")||("right"===t?(a++,s.animate({left:"-="+e},400),a===l-1&&(a=1,s.animate({left:-e},0))):(a--,s.animate({left:"+="+e},400),0===a&&(a=l-2,s.animate({left:-(e*(l-2))},0))),o.find("li:eq("+(a-1)+")").addClass("slide-active").siblings().removeClass("slide-active"))}var a=1,i=$("#galleryFrames .slide-prev"),n=$("#galleryFrames .slide-next"),s=$("#galleryFrames .gallery-hot ul"),l=$("#galleryFrames .slide-content li").length,o=$("#galleryFrames .slide-dots");s.width(e*l),$("#galleryFrames img").width(e),s.css("left",-e),n.on("click",function(){t("right")}),i.on("click",function(){t("left")}),o.on("click","li",function(){$(this).addClass("slide-active").siblings().removeClass("slide-active");var t=$(this).text()-a;a=$(this).text(),s.animate({left:"-="+e*t},300)});var r=setInterval(function(){t("right")},5e3);$("#galleryFrames").on("mouseover",function(){clearTimeout(r)}).on("mouseout",function(){r=setInterval(function(){t("right")},5e3)})})(),function(){function t(t){var n=(r-1)*e,s=$("#editorFeatured .ui-side-index");a.is(":animated")||("right"===t?i===r?(i=1,s.html(i),a.animate({left:0},400)):(i++,s.html(i),a.animate({left:"-="+e},400)):1===i?(i=r,s.html(i),a.animate({left:"-="+n},400)):(i--,s.html(i),a.animate({left:"+="+e},400)))}var a=$("#editorFeatured .screen-body"),i=1,n=$("#editorFeatured .slide-prev"),s=$("#editorFeatured .slide-next"),l=$("#editorFeatured .thumbnail"),o=l.length,r=Math.ceil(o/5),h=l.outerWidth(!0)-l.outerWidth(),m=(e-5*h)/5;l.outerWidth(m),a.width(e*r),$("#editorFeatured .ui-side-max").html(r),s.on("click",function(){t("right")}),n.on("click",function(){t("left")});var d=setInterval(function(){t("right")},5e3);$("#editorFeatured").on("mouseover",function(){clearInterval(d)}).on("mouseout",function(){d=setInterval(function(){t("right")},5e3)})}();$("#newAlbums").on("click","li",function(){if(!$(this).is(".on")){var e=$(this).text(),a="/?albumName="+encodeURIComponent("前端技术"+e);t(a,"GET",function(t){if(t.data){var e=t.data.posts,a=$("#newAlbums .thumbnail");if(e.length<a.length){var i=e.length-1;$("#newAlbums .thumbnail:gt("+i+")").remove()}else if(e.length>a.length)for(var n=a.length;n<e.length;n++)$("#newAlbums .panel-body").append('<div class="thumbnail"><a href="" target="_blank"><img src="" alt=""/></a><div class="caption"><h5></h5><p></p></div></div>');a=$("#newAlbums .thumbnail");for(var s=0;s<a.length;s++){$(a[s]).find("a").attr("href","/post/"+e[s]._id),$(a[s]).find("h5").html(e[s].title),$(a[s]).find("p").html(e[s].poster);var l=$(a[s]).find("img");e[s].image&&l.attr("src","/upload/post/"+e[s].image).attr("alt",e[s].image)}$("#newAlbums .class-top > a").attr("href","/post/results?cat="+t.data._id+"&p=0")}else $("#newAlbums .thumbnail").remove()}),$(this).addClass("on").siblings("li").removeClass("on")}}),$("#kuangjs").on("click","li",function(){if(!$(this).is(".on")){var e=$(this).text(),a="/?kuangName="+encodeURIComponent("前端框架"+e);t(a,"GET",function(t){if(t.data){var e=t.data.posts,a=$("#kuangjs .thumbnail");if(e.length<a.length){var i=e.length-1;$("#kuangjs .thumbnail:gt("+i+")").remove()}else if(e.length>a.length)for(var n=a.length;n<e.length;n++)$("#kuangjs .panel-body").append('<div class="thumbnail"><a href="" target="_blank"><img src="" alt=""/></a><div class="caption"><h5></h5><p></p></div></div>');a=$("#kuangjs .thumbnail");for(var s=0;s<a.length;s++){$(a[s]).find("a").attr("href","/post/"+e[s]._id),$(a[s]).find("h5").html(e[s].title),$(a[s]).find("p").html(e[s].poster);var l=$(a[s]).find("img");e[s].image&&l.attr("src","/upload/post/"+e[s].image).attr("alt",e[s].image)}$("#kuangjs .class-top > a").attr("href","/post/results?cat="+t.data._id+"&p=0")}else $("#kuangjs .thumbnail").remove()}),$(this).addClass("on").siblings("li").removeClass("on")}}),$("#hotProgrammes").on("click","li",function(){if(!$(this).is(".on")){var e=$(this).text(),a="/?hotProName="+encodeURIComponent("后台语言"+e);t(a,"GET",function(t){var e=t.data,a=$("#hotProgrammes .thumbnail");if(e){if(e.length<a.length){var i=e.length-1;$("#hotProgrammes .thumbnail:gt("+i+")").remove()}else for(var n=a.length;n<e.length;n++)$("#hotProgrammes .panel-body").append('<div class="thumbnail"><div class="inner"><h5><a target="_blank"></a></h5><div class="content"><img src="" alt="" /></div></div></div>');a=$("#hotProgrammes .thumbnail");for(var s=0;s<e.length;s++){$(a[s]).find("h5 a").html(e[s].name).attr("href","/post/results?cat="+e[s]._id+"&p=0");var l=$(a[s]).find(".content a").length,o=e[s].posts.length;if(l>o){var r=e[s].posts.length>0?$(a[s]).find(".content a:gt("+(e[s].posts.length-1)+")"):$(a[s]).find(".content a");r.remove(),$("#hotProgrammes .thumbnail:eq("+s+") span").remove()}else if(o>l){for(var h=0;o-l>h;h++)$("#hotProgrammes .thumbnail:eq("+s+") .inner .content").append("<a href =/post/"+e[s].posts[h]._id+" target =_blank title = "+e[s].posts[h].title+"><p>"+(h+1)+"."+e[s].posts[h].title+"</p></a>");e[s].posts.length>2&&$("#hotProgrammes .thumbnail:eq("+s+") .inner .content").append("<span>...</span>")}for(var m=0;m<e[s].posts.length;m++)$(a[s]).find(".content a:eq("+m+")").attr("href","/post/"+e[s].posts[m]._id).attr("title",e[s].posts[m].title),$(a[s]).find("p:eq("+m+")").html(m+1+"."+e[s].posts[m].title);var d=$(a[s]).find("img");e[s].posts[0]?e[s].posts[0].image.indexOf("http:")>-1?d.attr("src",e[s].posts[0].image).attr("alt",e[s].posts[0].image).attr("style","display: inline"):d.attr("src","/upload/post/"+e[s].posts[0].image).attr("alt",e[s].posts[0].image).attr("style","display: inline"):d.attr("style","display: none")}$("#hotProgrammes .class-top > a").attr("href","/post/results?pro="+t.dataPro._id+"&p=0")}else $("#hotProgrammes .thumbnail").remove()}),$(this).addClass("on").siblings("li").removeClass("on")}}),$("#hotArtistSongs .hot-artistTop").on("click","li",function(){if(!$(this).is(".on")){var e=$(this).text(),a="/?hotSongs="+encodeURIComponent("本周单曲榜"+e);t(a,"GET",function(t){if(t.data){var e=t.data.posts,a=$(".hotArtist-songs li");if(e.length<a.length){var i=e.length-1;$(".hotArtist-songs li:gt("+i+")").remove()}else if(e.length>a.length)for(var n=e.length,s=a.length;n>s;s++)$(".hotArtist-songs ul").append('<li><a href="" target="_blank"><img src="" alt=""><h5></h5><p></p><span class="order"></span></a></li>');a=$(".hotArtist-songs li");for(var l=0;l<a.length;l++)if(e[l]){$(a[l]).find("a").attr("href","/post/"+e[l]._id),$(a[l]).find("h5").html(e[l].title),$(a[l]).find("p").html(e[l].singer+"&nbsp;/&nbsp;"+e[l].pv+"次阅读"),$(a[l]).find("span").html(l+1);var o=$(a[l]).find("img");e[l].image&&(e[l].image.indexOf("http:")>-1?o.attr("src",e[l].image).attr("alt",e[l].image):o.attr("src","/upload/post/"+e[l].image).attr("alt",e[l].image))}}else $("#hotArtistSongs .hotArtist-songs li").remove()}),$(this).addClass("on").siblings("li").removeClass("on")}})})()});